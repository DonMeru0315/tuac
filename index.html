<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Club Auto Log</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

    <header>
        <h1>拓殖大学　自動車部</h1>
        <div id="auth-container">
            <div id="login-register-area">
                <h3 id="form-title">ログイン</h3>
                <form id="auth-form">
                    <input type="text" id="auth-name" placeholder="名前" class="hidden">
                    <input type="email" id="auth-email" placeholder="メールアドレス" required>
                    <input type="password" id="auth-password" placeholder="パスワード" required>
                    <button type="submit" id="auth-button">ログイン</button>
                </form>
                <button id="toggle-mode-button">新規登録はこちら</button>
            </div>
            <div id="user-info" class="hidden">
                <span id="user-email"></span>
                <button id="logout-button">ログアウト</button>
            </div>
        </div>
    </header>

    <div id="main-content" class="hidden">
        <nav id="main-nav">
            <button class="nav-button active" data-module="maintenance-module">🛠️ 整備管理</button>
            <button class="nav-button" data-module="practice-module">部活日程</button>
            <button class="nav-button" data-module="info-module">📋 情報共有</button>
        </nav>

        <main>
            <div id="maintenance-module" class="module-content">
                <h2>部車リスト</h2>
                <button id="show-add-vehicle-button" class="primary-button">＋ 部車を新規登録</button>
                <div id="vehicle-list-container"></div>
            </div>

            <div id="vehicle-detail-view" class="module-content hidden">
                <button id="back-to-list-button">＜ 車両リストに戻る</button>
                <h2 id="detail-vehicle-name"></h2>
                <nav id="detail-nav">
                    <button class="detail-nav-button active" data-detailtab="basic-info">基本情報</button>
                    <button class="detail-nav-button" data-detailtab="maintenance-logs">整備履歴</button>
                    <button class="detail-nav-button" data-detailtab="customizations">カスタマイズ</button>
                </nav>

                <div id="basic-info-tab" class="detail-tab-content"><div id="basic-info-content"></div></div>
                <div id="maintenance-logs-tab" class="detail-tab-content hidden">
                    <button id="show-add-log-button" class="primary-button">＋ 整備履歴を追加</button>
                    <div id="maintenance-logs-container"></div>
                </div>
                <div id="customizations-tab" class="detail-tab-content hidden">
                    <button id="show-add-custom-button" class="primary-button">＋ カスタマイズを追加</button>
                    <div id="customizations-container"></div>
                </div>
            </div>
            
            <div id="practice-module" class="module-content hidden">
                <h2>部活日程</h2>
                <div id="calendar-header">
                    <button id="prev-month-button">＜ 前の月</button>
                    <h3 id="calendar-month-year"></h3>
                    <button id="next-month-button">次の月 ＞</button>
                </div>
                <button id="show-add-event-button" class="primary-button">＋ 予定を追加</button>
                <div id="calendar-grid"></div>
            </div>

            <div id="info-module" class="module-content hidden">
                <h2>情報共有 (Wiki)</h2>
                <div id="wiki-tab-content">
                    <button id="show-add-wiki-button" class="primary-button">＋ Wikiを新規作成</button>
                    <div id="wiki-list-container"></div>
                    <div id="wiki-article-view" class="hidden"></div>
                </div>
                
                </div>
        </main>
    </div>
    
    <div id="login-prompt" class="center-message"><p>ログインまたは新規登録してください</p></div>

    <div id="vehicle-modal" class="modal-background hidden">
        <div class="modal-content">
            <h3>車両を新規登録</h3>
            <form id="vehicle-form">
                <input type="hidden" id="vehicle-id">
                <label for="vehicle-manufacturer">メーカー</label>
                <input type="text" id="vehicle-manufacturer">
                <label for="vehicle-name">車名</label>
                <input type="text" id="vehicle-name" required>
                <label for="vehicle-grade">グレード</label>
                <input type="text" id="vehicle-grade">
                <label for="vehicle-year">年式</label>
                <input type="number" id="vehicle-year" placeholder="例: 2005">
                <label for="vehicle-model-code">型式</label>
                <input type="text" id="vehicle-model-code">
                <label for="vehicle-vin">車台番号</label>
                <input type="text" id="vehicle-vin">
                <div class="modal-buttons">
                    <button type="button" class="cancel-button">キャンセル</button>
                    <button type="submit">保存する</button>
                </div>
            </form>
        </div>
    </div>

    <div id="maintenance-log-modal" class="modal-background hidden">
        <div class="modal-content">
            <h3>整備履歴を追加</h3>
            <form id="maintenance-log-form">
                <label for="log-date">日付</label>
                <input type="date" id="log-date" required>
                <label for="log-task">作業内容</label>
                <input type="text" id="log-task" required>
                <label for="log-mileage">走行距離 (km)</label>
                <input type="number" id="log-mileage">
                <label for="log-notes">メモ</label>
                <textarea id="log-notes" rows="4"></textarea>
                <div class="modal-buttons">
                    <button type="button" class="cancel-button">キャンセル</button>
                    <button type="submit">保存する</button>
                </div>
            </form>
        </div>
    </div>

    <div id="customization-modal" class="modal-background hidden">
        <div class="modal-content">
            <h3>カスタマイズ情報を追加</h3>
            <form id="customization-form">
                <label for="custom-part">パーツ名</label>
                <input type="text" id="custom-part" required>
                <label for="custom-category">カテゴリ</label>
                <input type="text" id="custom-category" placeholder="例: 吸気系, 足回り, 外装">
                <label for="custom-details">詳細</label>
                <textarea id="custom-details" rows="4"></textarea>
                <div class="modal-buttons">
                    <button type="button" class="cancel-button">キャンセル</button>
                    <button type="submit">保存する</button>
                </div>
            </form>
        </div>
    </div>

    <div id="wiki-modal" class="modal-background hidden">
        <div class="modal-content">
            <h3>Wikiを新規作成</h3>
            <form id="wiki-form">
                <input type="hidden" id="wiki-id">
                <label for="wiki-title">タイトル</label>
                <input type="text" id="wiki-title" required>
                <label for="wiki-content">内容 (Markdown対応)</label>
                <textarea id="wiki-content" rows="10"></textarea>
                <div class="modal-buttons">
                    <button type="button" class="cancel-button">キャンセル</button>
                    <button type="submit">保存する</button>
                </div>
            </form>
        </div>
    </div>

    <div id="event-modal" class="modal-background hidden">
        <div class="modal-content">
            <h3>予定を追加</h3>
            <form id="event-form">
                <label for="event-title">予定</label>
                <input type="text" id="event-title" required>
                
                <label for="event-group">グループ</label>
                <input type="text" id="event-group" list="event-group-list" placeholder="例: 走行会, ミーティング">
                <datalist id="event-group-list"></datalist>
                
                <label for="event-date">日付</label>
                <input type="date" id="event-date" required>
                
                <label for="event-time">時間 (任意)</label>
                <input type="time" id="event-time">
                
                <label for="event-location">場所 (任意)</label>
                <input type="text" id="event-location" placeholder="例: 〇〇キャンパス, △△サーキット">

                <div class="modal-buttons">
                    <button type="button" id="delete-event-button" class="delete-button hidden">削除</button>
                    
                    <div class="modal-buttons-right"> 
                        <button type="button" class="cancel-button">キャンセル</button>
                        <button type="submit">保存する</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="main.js"></script>

</body>
</html>

    <script type="module" src="main.js"></script>

</body>
</html>
